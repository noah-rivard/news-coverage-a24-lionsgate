{
  "version": 3,
  "sources": ["../src/popup.ts"],
  "sourcesContent": ["function setText(id: string, text: string) {\n  const el = document.getElementById(id);\n  if (el) el.textContent = text;\n}\n\nfunction setStatus(text: string, color = \"inherit\") {\n  const el = document.getElementById(\"status\");\n  if (el) {\n    el.textContent = text;\n    el.style.color = color;\n  }\n}\n\nfunction loadLatest() {\n  chrome.runtime.sendMessage({ type: \"GET_LATEST_ARTICLE\" }, (resp) => {\n    const article = resp?.article;\n    if (!article) {\n      setStatus(\"No article scraped yet. Reload the page.\", \"red\");\n      return;\n    }\n    setText(\"title\", article.title || \"(untitled)\");\n    setText(\"source\", article.source || \"Unknown\");\n    setText(\"published\", article.published_at || \"Unknown\");\n    setStatus(\"Ready to send.\");\n  });\n}\n\nfunction bindSend() {\n  const btn = document.getElementById(\"send\");\n  if (!btn) return;\n  btn.addEventListener(\"click\", () => {\n    setStatus(\"Sending...\");\n    chrome.runtime.sendMessage({ type: \"SEND_TO_INGEST\" }, (resp) => {\n      if (resp?.status === \"ok\") {\n        setStatus(\"Stored!\", \"green\");\n      } else {\n        setStatus(resp?.error || \"Send failed.\", \"red\");\n      }\n    });\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  loadLatest();\n  bindSend();\n});\n"],
  "mappings": ";;;AAAA,WAAS,QAAQ,IAAY,MAAc;AACzC,UAAM,KAAK,SAAS,eAAe,EAAE;AACrC,QAAI,GAAI,IAAG,cAAc;AAAA,EAC3B;AAEA,WAAS,UAAU,MAAc,QAAQ,WAAW;AAClD,UAAM,KAAK,SAAS,eAAe,QAAQ;AAC3C,QAAI,IAAI;AACN,SAAG,cAAc;AACjB,SAAG,MAAM,QAAQ;AAAA,IACnB;AAAA,EACF;AAEA,WAAS,aAAa;AACpB,WAAO,QAAQ,YAAY,EAAE,MAAM,qBAAqB,GAAG,CAAC,SAAS;AACnE,YAAM,UAAU,MAAM;AACtB,UAAI,CAAC,SAAS;AACZ,kBAAU,4CAA4C,KAAK;AAC3D;AAAA,MACF;AACA,cAAQ,SAAS,QAAQ,SAAS,YAAY;AAC9C,cAAQ,UAAU,QAAQ,UAAU,SAAS;AAC7C,cAAQ,aAAa,QAAQ,gBAAgB,SAAS;AACtD,gBAAU,gBAAgB;AAAA,IAC5B,CAAC;AAAA,EACH;AAEA,WAAS,WAAW;AAClB,UAAM,MAAM,SAAS,eAAe,MAAM;AAC1C,QAAI,CAAC,IAAK;AACV,QAAI,iBAAiB,SAAS,MAAM;AAClC,gBAAU,YAAY;AACtB,aAAO,QAAQ,YAAY,EAAE,MAAM,iBAAiB,GAAG,CAAC,SAAS;AAC/D,YAAI,MAAM,WAAW,MAAM;AACzB,oBAAU,WAAW,OAAO;AAAA,QAC9B,OAAO;AACL,oBAAU,MAAM,SAAS,gBAAgB,KAAK;AAAA,QAChD;AAAA,MACF,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AAEA,WAAS,iBAAiB,oBAAoB,MAAM;AAClD,eAAW;AACX,aAAS;AAAA,EACX,CAAC;",
  "names": []
}
